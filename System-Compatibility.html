

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>System Compatibility &mdash; python-ilorest-library 3.1.0 documentation</title>















    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />





        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="python-ilorest-library 3.1.0 documentation" href="index.html"/>
        <link rel="next" title="Examples" href="Examples.html"/>
        <link rel="prev" title="The Monolith" href="Monolith.html"/>


  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">


  <div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">



            <a href="index.html" class="icon icon-home"> python-ilorest-library



          </a>




              <div class="version">
                3.1
              </div>




<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>


        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">



                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="API-Overview.html">API Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation-Guide.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Client-Quick-Start.html">Client Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="Advanced-Usage.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="Monolith.html">The Monolith</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">System Compatibility</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-compatibility-class">Creating a Compatibility Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-a-compatibility-class">Using a Compatibility Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-a-compatibility-class">Updating a Compatibility Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="Frequently-Asked-Questions.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Reference.html">Reference Documentation</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">python-ilorest-library</a>
      </nav>



      <div class="wy-nav-content">
        <div class="rst-content">






<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>

    <li>System Compatibility</li>
    <li class="wy-breadcrumbs-aside">


          <a href="_sources/System-Compatibility.rest.txt" rel="nofollow"></a>


    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <a class="reference internal image-reference" href="_images/hpe_logo2.png"><img alt="_images/hpe_logo2.png" src="_images/hpe_logo2.png" style="width: 150pt;" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="toctree-wrapper compound">
</div>
<div class="section" id="system-compatibility">
<h1>System Compatibility<a class="headerlink" href="#system-compatibility" title="Permalink to this headline">¶</a></h1>
<p>Compatibility can be hard to maintain if you have many different systems with different firmware versions and system generations on each of them.
<a class="reference external" href="Reference.html#redfish-ris-gen-compat">Gen_compat</a> tries to help alleviate the headaches associated with this. It can automatically detect
what type of system you are using and provide useful string values of key property keys, paths, types, and booleans to check what the system type is.</p>
<p>A compatibility class is automatically created as part of an RmcApp class.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While currently gen_compat only specifically supports HPE iLO systems, the <a class="reference external" href="Reference.html#redfish.ris.gen_compat.Definevalstenplus">Definevalstenplus</a> class defines are mostly Redfish standard values. Gen_compat can also easily be extended to provide strings for any system type.</p>
</div>
<div class="section" id="creating-a-compatibility-class">
<h2>Creating a Compatibility Class<a class="headerlink" href="#creating-a-compatibility-class" title="Permalink to this headline">¶</a></h2>
<p>To create a compatibility class we first need to import the relevant module and create an empty class.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">redfish.ris.gen_compat</span> <span class="kn">import</span> <span class="n">Typesandpathdefines</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span> <span class="o">=</span> <span class="n">Typesandpathdefines</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="using-a-compatibility-class">
<h2>Using a Compatibility Class<a class="headerlink" href="#using-a-compatibility-class" title="Permalink to this headline">¶</a></h2>
<p>Now if you try to read any defines you will find the values are all empty. We need to point the compatibility class
to a system in order to detect its API type, iLO version, and generation if necessary. This is done with the <cite>getgen</cite> function.
If any other connection requirements are needed they can also be added now.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">getgen</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">iLO_host</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">login_account</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">login_password</span><span class="p">)</span>
</pre></div>
</div>
<p>After running the <cite>getgen</cite> function, if no connection errors occurred, you should be able to see information on the system
as well as a list of string defines you can use in place of direct strings. That way you guarantee no matter the system
you will have the correct key, type, or path value.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following example defines are from an iLO 5 system.</p>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">ilogen</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">hrefstring</span>
<span class="go">&#39;@odata.id&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">collectionstring</span>
<span class="go">&#39;Members&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">biostype</span>
<span class="go">&#39;Bios.&#39;</span>
</pre></div>
</div>
<p>Here is the compatibility class in action on a RedfishClient. The following code would work the same for LegacyRest
due to the use of the compatibility class instead of hard coding paths and keys.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">REST_OBJ</span> <span class="o">=</span> <span class="n">RestClient</span><span class="p">(</span><span class="n">base_url</span><span class="o">=</span><span class="n">iLO_host</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">login_account</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">login_password</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span> <span class="o">=</span> <span class="n">REST_OBJ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">startpath</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/redfish/v1/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">resp</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">Chassis</span><span class="p">[</span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">hrefstring</span><span class="p">]</span>
<span class="go">u&#39;/redfish/v1/Chassis/&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="updating-a-compatibility-class">
<h2>Updating a Compatibility Class<a class="headerlink" href="#updating-a-compatibility-class" title="Permalink to this headline">¶</a></h2>
<p>On some iLO 4 systems both Redfish and LegacyRest are available for use for backwards compatibility. The compatibility
class will automatically assume LegacyRest in this instance. In order to use Redfish on these systems you will need to
update the defines.</p>
<p>First create a new object with the redfish flag added.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span> <span class="o">=</span> <span class="n">Typesandpathdefines</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">getgen</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">iLO_host</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">login_account</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">login_password</span><span class="p">,</span> <span class="n">isredfish</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The initial isredfish flag will ensure we load redfish paths when performing the initial detection. We still need
to call <cite>updatedefinesflag</cite> to update our defines to Redfish.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">startpath</span>
<span class="go">&#39;/rest/v1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">updatedefinesflag</span><span class="p">(</span><span class="n">redfishflag</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">COMPAT_OBJ</span><span class="o">.</span><span class="n">defs</span><span class="o">.</span><span class="n">startpath</span>
<span class="go">&#39;/redfish/v1/&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will not do anything on Redfish only systems, so it is safe to use in all cases to ensure Redfish is used if that is desired.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>

    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

        <a href="Examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>


        <a href="Monolith.html" class="btn btn-neutral" title="The Monolith" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>

    </div>


  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2020 Hewlett Packard Enterprise Development LP.

    </p>
  </div>


</footer>

        </div>
      </div>

    </section>

  </div>


  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl>
        <dt>Versions</dt>
          <dd><a href="https://pages.github.hpe.com/intelligent-provisioning/python-redfish-library/">latest</dd>
          <dd><a href="https://pages.github.hpe.com/intelligent-provisioning/python-redfish-library/3.0/">3.0</dd>
      </dl>

    </div>
  </div>





    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'3.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>





    <script type="text/javascript" src="_static/js/theme.js"></script>




  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>


</body>
</html>
